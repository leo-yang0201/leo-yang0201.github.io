<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      Java面试题汇总（二） | Leo Yang&#39;s Blog 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Leo Yang">
    
    

    <meta name="description" content="Java容器都有哪些？常见容器的目录：">
<meta property="og:type" content="article">
<meta property="og:title" content="Java面试题汇总（二） | Leo Yang&#39;s Blog">
<meta property="og:url" content="https:&#x2F;&#x2F;leo-yang0201.github.io&#x2F;2020&#x2F;03&#x2F;06&#x2F;Java%E9%9D%A2%E8%AF%95%E9%A2%98%E6%A8%A1%E5%9D%97%E4%BA%8C&#x2F;index.html">
<meta property="og:site_name" content="Leo Yang&#39;s Blog">
<meta property="og:description" content="Java容器都有哪些？常见容器的目录：">
<meta property="og:image" content="https:&#x2F;&#x2F;s2.ax1x.com&#x2F;2020&#x2F;03&#x2F;06&#x2F;3LGWCt.jpg">
<meta property="og:image" content="https:&#x2F;&#x2F;s2.ax1x.com&#x2F;2020&#x2F;03&#x2F;06&#x2F;3LJszV.png">
<meta property="og:image" content="https:&#x2F;&#x2F;s2.ax1x.com&#x2F;2020&#x2F;03&#x2F;06&#x2F;3Lw6hQ.png">
<meta property="og:image" content="https:&#x2F;&#x2F;s2.ax1x.com&#x2F;2020&#x2F;03&#x2F;06&#x2F;3LsXT0.png">
<meta property="og:image" content="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2020&#x2F;04&#x2F;15&#x2F;JC6nfK.png">
<meta property="og:image" content="https:&#x2F;&#x2F;s1.ax1x.com&#x2F;2020&#x2F;04&#x2F;15&#x2F;JC6L9K.png">
<meta property="article:published_time" content="2020-03-06T13:59:38.000Z">
<meta property="article:modified_time" content="2020-04-15T07:47:17.722Z">
<meta property="article:author" content="Leo Yang">
<meta property="article:tag" content="Java基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;s2.ax1x.com&#x2F;2020&#x2F;03&#x2F;06&#x2F;3LGWCt.jpg">
    
    
    
      <link rel="icon" type="image/x-icon" href="/favicon.png">
    
    
<link rel="stylesheet" href="/leo-yang0201.github.io/css/uno.css">

    
<link rel="stylesheet" href="/leo-yang0201.github.io/css/highlight.css">

    
<link rel="stylesheet" href="/leo-yang0201.github.io/css/archive.css">

    
<link rel="stylesheet" href="/leo-yang0201.github.io/css/china-social-icon.css">


<meta name="generator" content="Hexo 4.1.1"></head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">Leo Yang&#39;s Blog</a></h1>
        <hr class="panel-cover__divider" />

        
        <p class="panel-cover__description">
          记录一些技术随笔和刷题思路～
        </p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />
        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



<nav class="cover-navigation navigation--social">
  <ul class="navigation">

    
      <!-- Github -->
      <li class="navigation__item">
        <a href="https://github.com/leo-yang0201" target="_blank" rel="noopener" title="Huno on GitHub">
          <i class='icon icon-social-github'></i>
          <span class="label">GitHub</span>
        </a>
      </li>
    

    <!-- China social icon -->
    <!--
    
      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-douban'></i>
          <span class="label">Douban</span>
        </a>
      </li>

      <li class="navigation__item">
        <a href="" title="">
          <i class='icon cs-icon-weibo'></i>
          <span class="label">Weibo</span>
        </a>
      </li>

    -->



  </ul>
</nav>



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">Java面试题汇总（二）</h1>

    

    <div class="post-meta">
      <time datetime="2020-03-06" class="post-meta__date date">2020-03-06</time> 

      <span class="post-meta__tags tags">

          
            <font class="categories">
            &#8226; 分类:
            <a class="categories-link" href="/leo-yang0201.github.io/categories/Java/">Java</a>
            </font>
          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/leo-yang0201.github.io/tags/Java%E5%9F%BA%E7%A1%80/" rel="tag">Java基础</a>
            </font>
          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <h4 id="Java容器都有哪些？"><a href="#Java容器都有哪些？" class="headerlink" title="Java容器都有哪些？"></a>Java容器都有哪些？</h4><p>常见容器的目录：</p>
<p><img src="https://s2.ax1x.com/2020/03/06/3LGWCt.jpg" alt="容器目录"></p>
<a id="more"></a>

<h4 id="Collection和Collections的区别？"><a href="#Collection和Collections的区别？" class="headerlink" title="Collection和Collections的区别？"></a>Collection和Collections的区别？</h4><ul>
<li>java.util.Collection是一个集合接口（集合类的一个顶级接口）。它提供了对集合对象进行基本操作的通用接口方法，Collection接口在Java类库中有很多具体的实现。Collection接口的意义是为各种具体的集合提供统一操作方式，其直接继承接口有List和Set</li>
<li>Collections是集合类的一个工具类，提供了一系列静态方法，用于对集合中的元素进行排序、搜索及线程安全等操作</li>
</ul>
<h4 id="List、Set、Map之间的区别是什么？"><a href="#List、Set、Map之间的区别是什么？" class="headerlink" title="List、Set、Map之间的区别是什么？"></a>List、Set、Map之间的区别是什么？</h4><p><img src="https://s2.ax1x.com/2020/03/06/3LJszV.png" alt></p>
<h4 id="HashMap和HashTable有什么区别"><a href="#HashMap和HashTable有什么区别" class="headerlink" title="HashMap和HashTable有什么区别"></a>HashMap和HashTable有什么区别</h4><ul>
<li>hashMap去除了HashTable的contains方法，但是加上了containsValue()和containsKey()方法</li>
<li>hashTable同步的，HashMap是非同步的，效率比HashTable高</li>
<li>hashMap允许空键值，hashTable不允许</li>
</ul>
<h4 id="如何决定用HashMap还是TreeMap"><a href="#如何决定用HashMap还是TreeMap" class="headerlink" title="如何决定用HashMap还是TreeMap?"></a>如何决定用HashMap还是TreeMap?</h4><p>对于插入、删除、定位元素用HashMap较好，但如果需要对一个有序的key集合进行遍历，TreeMap是更好的选择。</p>
<h4 id="说一下HashMap的实现原理？"><a href="#说一下HashMap的实现原理？" class="headerlink" title="说一下HashMap的实现原理？"></a>说一下HashMap的实现原理？</h4><p><img src="https://s2.ax1x.com/2020/03/06/3Lw6hQ.png" alt></p>
<p>HashMap是基于哈希表的Map接口的非同步实现，此实现提供所有可选的映射操作，并允许使用null值null键，此类不保证映射的顺序，特别是不保证该顺序恒久不变。HashMap存储着Entry(hash,key,value,next)对象。</p>
<p>HashMap有两个重要的参数capacity和load factor，capacity是桶的数目，Load factor是桶填满程度的最大比例。</p>
<p>存储对象时，将K/V传递给put方法时，它调用hashCode计算hash从而得到bucket位置，进一步存储，HashMap会根据当前bucket的占用情况自动调整容量（把bucket扩充为2倍，重新计算index，把结点再放到新的bucket中）。</p>
<p>获取对象时，把K传给get，它调用hashCode计算hash从而得到hash位置，并进一步调用equals()方法确定键值对，如果发生碰撞时，HashMap通过链表将产生碰撞冲突的元素组织起来，Java8中如果冲突超过8个就用红黑树来代替链表，提高速度。</p>
<p>get函数的思路为，如果是bucket里的第一个结点，直接命中，时间复杂度O(1)，如果有冲突，则通过key.equals(k)去查找对应的entry，如果是树，则在树中通过key.equals(k)查找，时间复杂度O(logN)，如果是链表，时间复杂度O(N)</p>
<h4 id="HashMap的长度为什么是2的幂次方？"><a href="#HashMap的长度为什么是2的幂次方？" class="headerlink" title="HashMap的长度为什么是2的幂次方？"></a>HashMap的长度为什么是2的幂次方？</h4><p>为了能让HashMap存取高效，尽量较少碰撞，也就是尽量要把数据分配均匀。Hash值的范围是-2147483648到2147483647，只要哈希函数映射得比较均匀松散，一般很难出现碰撞，但是内存没法放下那么大长度的一个数组，所以这个散列值不能直接拿来用，用之前还需要对数组的长度进行取模运算，得到的余数才能用来要存放的位置也就是对应的数组下标，这个下标index的计算方式是”(n - 1) &amp; hash”（n是数组长度）。</p>
<p>取余操作如果除数是2的幂次则等价于与其除数减一的位(&amp;)操作（也就是说，hash &amp; length == hash &amp; (length - 1)的前提是length是2的n次方），并且采用二进制位操作&amp;，相对于%能够提升运算效率，这就解释了HashMap的长度为什么是2的幂次方。</p>
<h4 id="HashSet的实现原理"><a href="#HashSet的实现原理" class="headerlink" title="HashSet的实现原理"></a>HashSet的实现原理</h4><ul>
<li>HashSet底层由HashMap实现</li>
<li>HashSet的值存放于HashMap的key上</li>
<li>HashMap和value统一为PRESENT</li>
</ul>
<h4 id="HashSet和HashMap区别？"><a href="#HashSet和HashMap区别？" class="headerlink" title="HashSet和HashMap区别？"></a>HashSet和HashMap区别？</h4><p><img src="https://s2.ax1x.com/2020/03/06/3LsXT0.png" alt></p>
<p>HashSet不允许集合中有重复的值，存储对象之前一定保证对象重写hashCode()和equals()方法，这样才能比较对象的值是否相等，以确保set里没有储存相等的对象。</p>
<h4 id="ConcurrentHashMap在jdk1-7和1-8的区别？"><a href="#ConcurrentHashMap在jdk1-7和1-8的区别？" class="headerlink" title="ConcurrentHashMap在jdk1.7和1.8的区别？"></a>ConcurrentHashMap在jdk1.7和1.8的区别？</h4><ul>
<li>jdk 1.7 的实现基于分段锁<br>Segment类继承于ReentrantLock类，获取锁时，不直接使用lock来获取，因为该方法获取锁失败时会挂起。事实上，它使用了<strong>自旋锁</strong>，如果获取锁失败，说明锁被其他线程占用，此时通过循环再次以tryLock的方式申请锁。在多线程中，只要插入的数据定位不在一个段中，也不会发生锁竞争导致阻塞，线程间就可以做到真正的并发。<br>问题：当需要进行跨段操作时，也就是当系统需要获得全局锁的时候，就比较麻烦了，它要查看每个段的锁情况，只有顺利取得全部段的锁才能获取全局信息。比如ConcurrentHashMap的size()方法，就要获得所有子段的锁。<br><img src="https://s1.ax1x.com/2020/04/15/JC6nfK.png" alt="JC6nfK.png"></li>
<li>jdk 1.8的实现基于CAS<br>jdk1.8为了进一步提高并发性，摒弃了分段锁的方案，而是直接使用一个大的数组，同时为了提高哈希碰撞下的寻址功能，链表长度超过8时转换为红黑树。同样是通过Key的哈希值与数组长度取模确定该Key在数组中的索引。<br><img src="https://s1.ax1x.com/2020/04/15/JC6L9K.png" alt="JC6L9K.png"><br>对于put操作，如果Key对应的数组元素为null，则通过CAS操作将其设置为当前值。如果Key对应的数组元素（也即链表表头或者树的根节点）不为null，则对该元素<strong>使用synchronized关键字</strong>申请锁。如果该put操作是的当前链表长度超过一定阈值，则将链表换成树，提高寻址效率。</li>
</ul>
<h4 id="ArrayList-和-LinkedList的区别？"><a href="#ArrayList-和-LinkedList的区别？" class="headerlink" title="ArrayList 和 LinkedList的区别？"></a>ArrayList 和 LinkedList的区别？</h4><p>ArrayList底层的数据结构是数组，支持随机访问。LinkedList底层数据结构是双向循环链表，不支持随机访问，使用下标访问一个元素，ArrayList时间复杂度O(1)，LinkedList时间复杂度O(N)</p>
<h4 id="如何实现数组和List之间的转换？"><a href="#如何实现数组和List之间的转换？" class="headerlink" title="如何实现数组和List之间的转换？"></a>如何实现数组和List之间的转换？</h4><ul>
<li>List转换为数组：调用ArrayList的toArray()方法</li>
<li>数组转换为List: 调用Arrays的asList()方法</li>
</ul>
<h4 id="ArrayList和Vector的区别是什么？"><a href="#ArrayList和Vector的区别是什么？" class="headerlink" title="ArrayList和Vector的区别是什么？"></a>ArrayList和Vector的区别是什么？</h4><ul>
<li>Vector是同步的，ArrayList不是</li>
<li>ArrayList比Vector快，因为Vector使用线程同步，使用Vector实例需要先获得锁</li>
<li>ArrayList更加通用，因为我们可以使用Collections工具类轻易获取同步列表和只读列表</li>
</ul>
<h4 id="Array和ArrayList有何区别？"><a href="#Array和ArrayList有何区别？" class="headerlink" title="Array和ArrayList有何区别？"></a>Array和ArrayList有何区别？</h4><ul>
<li>Array可以容纳基本类型和对象，而ArrayList只能容纳对象</li>
<li>Array需要指定大小，ArrayList大小固定</li>
<li>ArrayList的功能更多，如addAll，removeAll和Iterator等</li>
</ul>
<h4 id="在Queue中poll-和remove-有什么区别？"><a href="#在Queue中poll-和remove-有什么区别？" class="headerlink" title="在Queue中poll()和remove()有什么区别？"></a>在Queue中poll()和remove()有什么区别？</h4><p>pull()获取元素失败时返回空，remove()失败的时候报异常</p>
<h4 id="哪些集合类是线程安全的？"><a href="#哪些集合类是线程安全的？" class="headerlink" title="哪些集合类是线程安全的？"></a>哪些集合类是线程安全的？</h4><ul>
<li>vector</li>
<li>stack</li>
<li>HashTable</li>
<li>Enumeration：枚举，相当于迭代器</li>
</ul>
<h4 id="迭代器Iterator是什么？"><a href="#迭代器Iterator是什么？" class="headerlink" title="迭代器Iterator是什么？"></a>迭代器Iterator是什么？</h4><p>迭代器是一种设计模式，是一个对象，可以遍历并选择序列中的对象，开发人员不需要了解该序列的底层结构。迭代器常被称为“轻量级”对象，因为创建的代价小</p>
<h4 id="Iterator怎么用？有什么特点？"><a href="#Iterator怎么用？有什么特点？" class="headerlink" title="Iterator怎么用？有什么特点？"></a>Iterator怎么用？有什么特点？</h4><p>Java中的Iterator只能单向移动</p>
<ol>
<li>使用方法iterator()要求容器返回一个Iterator，第一次调用Iterator的next()方法时，返回序列的第一个元素，iterator()方法是java.lang.Iterable接口，被Collection继承</li>
<li>使用next()获得序列中的下一个元素</li>
<li>使用hasNext()检查序列中是否还有元素</li>
<li>使用remove()将迭代器新返回的元素删除</li>
</ol>
<h4 id="Iterator和ListIterator有什么区别？"><a href="#Iterator和ListIterator有什么区别？" class="headerlink" title="Iterator和ListIterator有什么区别？"></a>Iterator和ListIterator有什么区别？</h4><ul>
<li>Iterator可以遍历Set和List集合，ListIterator只能遍历List</li>
<li>ListIterator支持前向遍历和后向遍历</li>
<li>ListIterator实现了Iterator接口，包含其他功能如增加元素、替换元素、获取前一个和后一个元素的索引等</li>
</ul>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno" target="_blank" rel="noopener">Huno</a></span>
    
</footer>
        </div>
    </div>

    <!-- js files -->
    <script src="/leo-yang0201.github.io/js/jquery.min.js"></script>
    <script src="/leo-yang0201.github.io/js/main.js"></script>
    <script src="/leo-yang0201.github.io/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']]} 
            });
        });
    </script>


    

    <script src="/leo-yang0201.github.io/js/jquery.min.js"></script>
    <script src="/leo-yang0201.github.io/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
